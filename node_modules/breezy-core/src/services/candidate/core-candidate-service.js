'use strict'

const config = require('../../../data/services-config')
const BreezyRequest = require('../../../src/http/request')
const request = new BreezyRequest(config.Candidate)
const LOG_NS = '[CORE-CANDIDATE-SERVICE]'

async function getCandidate(companyId, positionId, candidateId, actingUser) {

  let resource = "company/" + companyId + "/position/" + positionId + "/candidate/" + candidateId

  if (actingUser) {
    resource += "?acting_user_id=" + actingUser._id
  }

  try {
    return await request.get(resource)
  } catch (e) {
    console.error(LOG_NS, e)
  }
}

module.exports = {
  getCandidate
}