'use strict'

const config = require('../../../data/services-config')
const BreezyRequest = require('../../../src/http/request')
const request = new BreezyRequest(config.Position)
const LOG_NS = '[CORE-POSITION-SERVICE]'

async function getPosition(companyId, positionId, actingUser) {

  let resource = "company/" + companyId + "/position/" + positionId

  if (actingUser) {
    resource += "?acting_user_id=" + actingUser._id
  }

  try {
    return await request.get(resource)
  } catch (e) {
    console.error(LOG_NS, e)
  }
}

module.exports = {
  getPosition
}